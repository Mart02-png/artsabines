{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n// require('@fullcalendar/core/main.min.css')\n\nimport FullCalendar from '@fullcalendar/vue3';\nimport dayGridPlugin from '@fullcalendar/daygrid';\nimport timeGridPlugin from '@fullcalendar/timegrid';\nimport interactionPlugin from '@fullcalendar/interaction';\nimport listPlugin from '@fullcalendar/list';\nimport axios from 'axios';\n// import { INITIAL_EVENTS, createEventId } from './event-utils'\nimport bootstrap5Plugin from '@fullcalendar/bootstrap5';\nlet eventGuid = 0;\nexport function createEventId() {\n  return String(eventGuid++);\n}\nfunction formatDatetime(datetimeStr) {\n  return datetimeStr.replace('T', ' ').replace(/\\+.*$/, '');\n}\nexport default {\n  components: {\n    FullCalendar // make the <FullCalendar> tag available\n  },\n  data: function () {\n    return {\n      calendarOptions: {\n        plugins: [bootstrap5Plugin, listPlugin, dayGridPlugin, timeGridPlugin, interactionPlugin // needed for dateClick\n        ],\n        headerToolbar: {\n          left: 'prev,next today',\n          center: 'title',\n          right: 'dayGridMonth,timeGridWeek,timeGridDay,listMonth'\n        },\n        themeSystem: 'bootstrap5',\n        // important!\n        initialView: 'dayGridMonth',\n        // initialEvents: INITIAL_EVENTS, // alternatively, use the `events` setting to fetch from a feed\n        editable: true,\n        selectable: true,\n        selectMirror: true,\n        dayMaxEvents: true,\n        weekends: true,\n        select: this.handleDateSelect,\n        eventClick: this.deleteItem,\n        eventsSet: this.handleEvents,\n        eventDrop: this.handleEventDrop,\n        // Add eventDrop handler\n        eventResize: this.handleEventResize\n\n        /* you can update a remote database when these fire:\n        eventAdd:\n        eventChange:\n        eventRemove:\n        */\n      },\n      allevents: []\n    };\n  },\n  mounted() {\n    this.fetchEvents();\n  },\n  methods: {\n    fetchEvents() {\n      // Fetch events from local storage\n      let eventsFromLocalStorage = JSON.parse(localStorage.getItem('events')) || [];\n\n      // Fetch events from the API\n      axios.get('http://localhost:8000/api/events').then(response => {\n        // let eventsFromAPI = response.data.filter(event => event.user === 'admin').map(event => ({\n        //   id: event.id,\n        //   title: event.title,\n        //   start: event.start,\n        //   user: event.user,\n        //   end: event.end,\n        //   allDay: event.allDay,\n        // }));\n\n        let eventsFromAPI = response.data.map(event => {\n          let color;\n          switch (event.user) {\n            case 'clientApproval':\n              color = '#007FFF';\n              break;\n            case 'clientApproved':\n              color = '#FF9E00';\n              break;\n            case 'admin':\n              color = '#FF2D00';\n              break;\n            default:\n              // Handle default case if needed\n              break;\n          }\n          return {\n            id: event.id,\n            title: event.title,\n            start: event.start,\n            end: event.end,\n            allDay: event.allDay,\n            user: event.user,\n            color: color // Assign color based on user type\n          };\n        });\n\n        // Update local events with API events and update user if IDs match\n        eventsFromLocalStorage.forEach(localEvent => {\n          let correspondingAPIEvent = response.data.find(apiEvent => apiEvent.id === localEvent.id);\n          if (correspondingAPIEvent) {\n            // localEvent.user = correspondingAPIEvent.user;\n            console.log(localEvent.user, correspondingAPIEvent.user);\n\n            // Filter out the event to be deleted\n            const updatedEvents = eventsFromLocalStorage.filter(correspondingAPIEvent => String(correspondingAPIEvent.user) !== String(localEvent.user));\n            console.log('Updated events after deletion:', updatedEvents);\n            // Store the updated events back into local storage\n            localStorage.setItem('events', JSON.stringify(updatedEvents));\n          }\n        });\n\n        // Filter out duplicate events by ID\n        let uniqueEventsFromAPI = eventsFromAPI.filter(apiEvent => !eventsFromLocalStorage.some(localEvent => localEvent.id === apiEvent.id));\n        let allEvents = eventsFromLocalStorage.concat(uniqueEventsFromAPI);\n\n        // localStorage.setItem('events', JSON.stringify(allEvents));\n        this.calendarOptions.events = allEvents; // Directly assign events to calendarOptions\n      }).catch(error => {\n        console.error('Error fetching events:', error);\n      });\n    },\n    handleWeekendsToggle() {\n      this.calendarOptions.weekends = !this.calendarOptions.weekends; // update a property\n    },\n    //ADD EVENT\n    handleDateSelect(selectInfo) {\n      let title = prompt('Please enter a new title for your event');\n      let calendarApi = selectInfo.view.calendar;\n      calendarApi.unselect(); // clear date selection\n\n      if (title) {\n        console.log(formatDatetime(new Date().toISOString()));\n        axios.post('http://localhost:8000/api/events', {\n          title: title,\n          start: formatDatetime(selectInfo.startStr),\n          end: formatDatetime(selectInfo.endStr),\n          user: 'clientApproval',\n          allDay: selectInfo.allDay\n        }).then(response => {\n          // Handle success\n          console.log('Event added:', response.data);\n          console.log('Event added ID:', response.data.id);\n          this.allevents.push(response.data);\n          let newEvent = {\n            id: response.data.id,\n            title: response.data.title,\n            start: response.data.start,\n            end: response.data.end,\n            allDay: response.data.allDay,\n            user: response.data.user\n          };\n\n          // this.allevents.push(newEvent);\n          // localStorage.setItem('events', JSON.stringify(this.allevents));\n\n          // Get existing events from local storage or initialize an empty array\n          let events = JSON.parse(localStorage.getItem('events')) || [];\n          events.push(newEvent); // Append the new event to existing events\n          localStorage.setItem('events', JSON.stringify(events)); // Set the updated events array to local storage\n\n          calendarApi.addEvent(newEvent);\n          // Fetch events again to update the calendar\n          this.fetchEvents();\n        }).catch(error => {\n          // Handle error\n          console.error('Error adding event:', error.response.data);\n        });\n      }\n    },\n    deleteItem(clickInfo) {\n      console.log(\"Deleted? : \" + clickInfo.event.id);\n      if (confirm(`Are you sure you want to delete the event '${clickInfo.event.title}'`)) {\n        axios.delete(`http://localhost:8000/api/events/${clickInfo.event.id}`).then(response => {\n          // this.fetchEvents(); // Refresh events after deleting\n          console.log(\"Succesfully Deleted: \" + response.data + clickInfo.event.id);\n\n          // Fetch events from local storage\n          let events = JSON.parse(localStorage.getItem('events')) || [];\n          console.log('Events before deletion:', events);\n          // Filter out the event to be deleted\n          const updatedEvents = events.filter(event => String(event.id) !== String(clickInfo.event.id));\n          console.log('Updated events after deletion:', updatedEvents);\n          // Store the updated events back into local storage\n          localStorage.setItem('events', JSON.stringify(updatedEvents));\n          this.fetchEvents();\n        }).catch(error => {\n          console.error('Error deleting event:', error);\n        });\n      }\n    },\n    handleEventDrop(info) {\n      const eventId = info.event.id;\n      const allDay = info.event.allDay;\n      const start_formatdate = formatDatetime(info.event.startStr);\n      let end_formatdate = formatDatetime(info.event.endStr);\n\n      // If end date is empty, set it to start date\n      if (end_formatdate === \"\") {\n        end_formatdate = start_formatdate;\n      }\n      console.log(\"handleEventDrop : \", eventId, \"start_formatdate: \" + start_formatdate, \"End: \" + end_formatdate, \"AllDay: \", allDay);\n      axios.put(`http://localhost:8000/api/events/${eventId}`, {\n        start: start_formatdate,\n        end: end_formatdate,\n        allDay: allDay\n      }).then(response => {\n        console.log('Event updated:', response.data);\n\n        // Retrieve events from local storage\n        let events = JSON.parse(localStorage.getItem('events')) || [];\n        console.log('Existing events:', events);\n\n        // Find index of event being updated\n        const eventIndex = events.findIndex(event => event.id === eventId);\n        console.log('Event index:', eventIndex);\n\n        // Update event if found\n        if (eventIndex !== -1) {\n          events[eventIndex].start = response.data.start;\n          events[eventIndex].end = response.data.end;\n\n          // Save updated events to local storage\n          localStorage.setItem('events', JSON.stringify(events));\n          console.log('Updated events:', events);\n        } else {\n          // If event is not found, it might be a new event, handle accordingly\n          console.log('Event not found in local storage. Adding new event...');\n          events.push(response.data);\n          localStorage.setItem('events', JSON.stringify(events));\n          console.log('Updated events:', events);\n        }\n      }).catch(error => {\n        console.error('Error updating event:', error.response.data);\n      });\n    },\n    // Function to handle resize event\n    handleEventResize(info) {\n      const eventId = info.event.id;\n      const start = formatDatetime(info.event.startStr);\n      const end = formatDatetime(info.event.endStr);\n      console.log(\"handleEventResize : \", eventId, \"start \", start, \"  end \", end);\n      axios.put(`http://localhost:8000/api/events/${eventId}`, {\n        start: start,\n        end: end,\n        allDay: false\n      }).then(response => {\n        console.log('Event updated Resize:', response.data);\n      }).catch(error => {\n        console.error('Error updating event:', error.response.data);\n      });\n    },\n    handleEvents(events) {\n      this.allevents = events;\n    }\n  }\n};","map":{"version":3,"names":["FullCalendar","dayGridPlugin","timeGridPlugin","interactionPlugin","listPlugin","axios","bootstrap5Plugin","eventGuid","createEventId","String","formatDatetime","datetimeStr","replace","components","data","calendarOptions","plugins","headerToolbar","left","center","right","themeSystem","initialView","editable","selectable","selectMirror","dayMaxEvents","weekends","select","handleDateSelect","eventClick","deleteItem","eventsSet","handleEvents","eventDrop","handleEventDrop","eventResize","handleEventResize","allevents","mounted","fetchEvents","methods","eventsFromLocalStorage","JSON","parse","localStorage","getItem","get","then","response","eventsFromAPI","map","event","color","user","id","title","start","end","allDay","forEach","localEvent","correspondingAPIEvent","find","apiEvent","console","log","updatedEvents","filter","setItem","stringify","uniqueEventsFromAPI","some","allEvents","concat","events","catch","error","handleWeekendsToggle","selectInfo","prompt","calendarApi","view","calendar","unselect","Date","toISOString","post","startStr","endStr","push","newEvent","addEvent","clickInfo","confirm","delete","info","eventId","start_formatdate","end_formatdate","put","eventIndex","findIndex"],"sources":["C:\\Users\\Asus\\Desktop\\Clinic\\clinicsystem\\src\\views\\ClientView.vue"],"sourcesContent":["<!-- HelloWorld.vue -->\n\n<script>\n// require('@fullcalendar/core/main.min.css')\n\nimport FullCalendar from '@fullcalendar/vue3'\nimport dayGridPlugin from '@fullcalendar/daygrid'\nimport timeGridPlugin from '@fullcalendar/timegrid'\nimport interactionPlugin from '@fullcalendar/interaction'\nimport listPlugin from '@fullcalendar/list'\n\nimport axios from 'axios';\n// import { INITIAL_EVENTS, createEventId } from './event-utils'\nimport bootstrap5Plugin from '@fullcalendar/bootstrap5'\n\n\nlet eventGuid = 0\nexport function createEventId() {\n  return String(eventGuid++)\n}\n\nfunction formatDatetime(datetimeStr) {\n  return datetimeStr.replace('T', ' ').replace(/\\+.*$/, '');\n}\n\nexport default {\n  components: {\n    FullCalendar // make the <FullCalendar> tag available\n  },\n\n  data: function () {\n    return {\n      calendarOptions: {\n        plugins: [\n          bootstrap5Plugin,\n          listPlugin,\n          dayGridPlugin,\n          timeGridPlugin,\n          interactionPlugin // needed for dateClick\n        ],\n        headerToolbar: {\n          left: 'prev,next today',\n          center: 'title',\n          right: 'dayGridMonth,timeGridWeek,timeGridDay,listMonth'\n        },\n        themeSystem: 'bootstrap5', // important!\n        initialView: 'dayGridMonth',\n        // initialEvents: INITIAL_EVENTS, // alternatively, use the `events` setting to fetch from a feed\n        editable: true,\n        selectable: true,\n        selectMirror: true,\n        dayMaxEvents: true,\n        weekends: true,\n        select: this.handleDateSelect,\n        eventClick: this.deleteItem,\n        eventsSet: this.handleEvents,\n        eventDrop: this.handleEventDrop, // Add eventDrop handler\n        eventResize: this.handleEventResize\n\n        /* you can update a remote database when these fire:\n        eventAdd:\n        eventChange:\n        eventRemove:\n        */\n      },\n      allevents: [],\n    }\n  },\n\n  mounted() {\n    this.fetchEvents();\n  },\n\n  methods: {\n\n    fetchEvents() {\n      // Fetch events from local storage\n      let eventsFromLocalStorage = JSON.parse(localStorage.getItem('events')) || [];\n\n      // Fetch events from the API\n      axios.get('http://localhost:8000/api/events')\n        .then(response => {\n          // let eventsFromAPI = response.data.filter(event => event.user === 'admin').map(event => ({\n          //   id: event.id,\n          //   title: event.title,\n          //   start: event.start,\n          //   user: event.user,\n          //   end: event.end,\n          //   allDay: event.allDay,\n          // }));\n\n          let eventsFromAPI = response.data.map(event => {\n            let color;\n            switch (event.user) {\n                case 'clientApproval':\n                    color = '#007FFF';\n                    break;\n                case 'clientApproved':\n                    color = '#FF9E00';\n                    break;\n                case 'admin':\n                    color = '#FF2D00';\n                    break;\n                default:\n                    // Handle default case if needed\n                    break;\n            }\n\n            return {\n                id: event.id,\n                title: event.title,\n                start: event.start,\n                end: event.end,\n                allDay: event.allDay,\n                user: event.user,\n                color: color // Assign color based on user type\n            };\n        });\n\n                    // Update local events with API events and update user if IDs match\n            eventsFromLocalStorage.forEach(localEvent => {\n                let correspondingAPIEvent = response.data.find(apiEvent => apiEvent.id === localEvent.id);\n                if (correspondingAPIEvent) {\n                    // localEvent.user = correspondingAPIEvent.user;\n                    console.log(localEvent.user,correspondingAPIEvent.user   );\n\n                  // Filter out the event to be deleted\n                  const updatedEvents = eventsFromLocalStorage.filter(correspondingAPIEvent => String(correspondingAPIEvent.user) !== String(localEvent.user));\n                  console.log('Updated events after deletion:', updatedEvents);\n                  // Store the updated events back into local storage\n                  localStorage.setItem('events', JSON.stringify(updatedEvents));\n                } \n            });\n\n         // Filter out duplicate events by ID\n          let uniqueEventsFromAPI = eventsFromAPI.filter(apiEvent => !eventsFromLocalStorage.some(localEvent => localEvent.id === apiEvent.id));\n\n          let allEvents = eventsFromLocalStorage.concat(uniqueEventsFromAPI);\n\n          // localStorage.setItem('events', JSON.stringify(allEvents));\n          this.calendarOptions.events = allEvents; // Directly assign events to calendarOptions\n          \n        })\n        .catch(error => {\n          console.error('Error fetching events:', error);\n        });\n    },\n\n    handleWeekendsToggle() {\n      this.calendarOptions.weekends = !this.calendarOptions.weekends // update a property\n    },\n\n    //ADD EVENT\n    handleDateSelect(selectInfo) {\n      let title = prompt('Please enter a new title for your event')\n      let calendarApi = selectInfo.view.calendar\n\n      calendarApi.unselect() // clear date selection\n\n      if (title) {\n\n        console.log(formatDatetime(new Date().toISOString()));\n\n        axios.post('http://localhost:8000/api/events', {\n\n          title: title,\n          start: formatDatetime(selectInfo.startStr),\n          end: formatDatetime(selectInfo.endStr),\n          user: 'clientApproval',\n          allDay: selectInfo.allDay\n        })\n          .then(response => {\n            // Handle success\n            console.log('Event added:', response.data);\n            console.log('Event added ID:', response.data.id);\n            this.allevents.push(response.data);\n\n            let newEvent = {\n              id: response.data.id,\n              title: response.data.title,\n              start: response.data.start,\n              end: response.data.end,\n              allDay: response.data.allDay,\n              user: response.data.user\n            };\n\n            // this.allevents.push(newEvent);\n            // localStorage.setItem('events', JSON.stringify(this.allevents));\n\n            // Get existing events from local storage or initialize an empty array\n            let events = JSON.parse(localStorage.getItem('events')) || [];\n            events.push(newEvent); // Append the new event to existing events\n            localStorage.setItem('events', JSON.stringify(events)); // Set the updated events array to local storage\n\n            calendarApi.addEvent(newEvent);\n            // Fetch events again to update the calendar\n            this.fetchEvents();\n\n          })\n          .catch(error => {\n            // Handle error\n            console.error('Error adding event:', error.response.data);\n          });\n      }\n    },\n\n    deleteItem(clickInfo) {\n      console.log(\"Deleted? : \" + clickInfo.event.id);\n\n      if (confirm(`Are you sure you want to delete the event '${clickInfo.event.title}'`)) {\n        axios.delete(`http://localhost:8000/api/events/${clickInfo.event.id}`)\n          .then(response => {\n            // this.fetchEvents(); // Refresh events after deleting\n            console.log(\"Succesfully Deleted: \" + response.data + clickInfo.event.id);\n\n            // Fetch events from local storage\n            let events = JSON.parse(localStorage.getItem('events')) || [];\n            console.log('Events before deletion:', events);\n            // Filter out the event to be deleted\n            const updatedEvents = events.filter(event => String(event.id) !== String(clickInfo.event.id));\n            console.log('Updated events after deletion:', updatedEvents);\n            // Store the updated events back into local storage\n            localStorage.setItem('events', JSON.stringify(updatedEvents));\n            this.fetchEvents();\n\n          })\n          .catch(error => {\n            \n            console.error('Error deleting event:', error);\n          });\n      }\n    },\n\n    handleEventDrop(info) {\n      const eventId = info.event.id;\n      const allDay = info.event.allDay;\n      const start_formatdate = formatDatetime(info.event.startStr);\n      let end_formatdate = formatDatetime(info.event.endStr);\n\n      // If end date is empty, set it to start date\n      if (end_formatdate === \"\") {\n        end_formatdate = start_formatdate;\n      }\n\n      console.log(\"handleEventDrop : \", eventId, \"start_formatdate: \" + start_formatdate, \"End: \" + end_formatdate, \"AllDay: \", allDay);\n\n      axios.put(`http://localhost:8000/api/events/${eventId}`, {\n        start: start_formatdate,\n        end: end_formatdate,\n        allDay: allDay\n      })\n        .then(response => {\n          console.log('Event updated:', response.data);\n\n          // Retrieve events from local storage\n          let events = JSON.parse(localStorage.getItem('events')) || [];\n          console.log('Existing events:', events);\n\n          // Find index of event being updated\n          const eventIndex = events.findIndex(event => event.id === eventId);\n          console.log('Event index:', eventIndex);\n\n          // Update event if found\n          if (eventIndex !== -1) {\n            events[eventIndex].start = response.data.start;\n            events[eventIndex].end = response.data.end;\n\n            // Save updated events to local storage\n            localStorage.setItem('events', JSON.stringify(events));\n            console.log('Updated events:', events);\n          } else {\n            // If event is not found, it might be a new event, handle accordingly\n            console.log('Event not found in local storage. Adding new event...');\n            events.push(response.data);\n            localStorage.setItem('events', JSON.stringify(events));\n            console.log('Updated events:', events);\n          }\n        })\n        .catch(error => {\n          console.error('Error updating event:', error.response.data);\n        });\n    },\n\n\n\n    // Function to handle resize event\n    handleEventResize(info) {\n      const eventId = info.event.id;\n      const start = formatDatetime(info.event.startStr);\n      const end = formatDatetime(info.event.endStr);\n\n      console.log(\"handleEventResize : \", eventId, \"start \", start, \"  end \", end);\n\n      axios.put(`http://localhost:8000/api/events/${eventId}`, {\n        start: start,\n        end: end,\n        allDay: false\n      })\n        .then(response => {\n          console.log('Event updated Resize:', response.data);\n        })\n        .catch(error => {\n          console.error('Error updating event:', error.response.data);\n        });\n    },\n\n    handleEvents(events) {\n      this.allevents = events;\n    }\n  },\n\n\n}\n</script>\n\n\n<template>\n  <div class='demo-app'>\n    <div class='demo-app-sidebar' style=\"display: flex; flex-direction: column; justify-content: space-between;\">\n  <div>\n    <div class=\"text-center\">\n      <img src=\"../assets/icon.png\" alt=\"Ears Nose and Throat\" style=\"width: 160px; height: auto; \" class=\"img-fluid\">\n    </div>\n    <div style=\"margin: 50px 5px 10px 5px ;\">\n      <h2>Instructions</h2>\n      <ul style=\"text-align: left;\">\n        <li>Select dates and you will be prompted to create a new event</li>\n        <li>Drag, drop, and resize events</li>\n        <li>Click an event to delete it</li>\n      </ul>\n    </div>\n  </div>\n\n  <!-- Admin Login -->\n  <div class=\"text-center\" style=\"margin: 10px 5px 10px 5px ;\">\n    <router-link :to= \"{ name: 'login' }\">Admin Login</router-link>\n    <router-view/>\n  </div>\n</div>\n\n\n    <div class='demo-app-main'>\n      <FullCalendar class='demo-app-calendar' :options='calendarOptions'>\n        <template v-slot:eventContent='arg'>\n          <b>{{ arg.start }}</b>\n          <i>{{ arg.event.title }}</i>\n        </template>\n      </FullCalendar>\n    </div>\n  </div>\n</template>\n\n\n\n<style lang='css'>\n\n\nhtml, body {\n    height: 100vh;\n    margin: 0;\n    padding: 0;\n    \n   /* overflow: hidden; Disable scrolling of the entire page */\n}\n@media (max-width: 650px) {\n    ul {\n      margin: 0;\n      /* padding: 0 0 0 1.5em; */\n      font-size: 10px;\n    }\n\n    li {\n      /* margin: 1.5em 0; */\n      padding: 0;\n      font-size: 10px;\n    }\n  }\n\n\n  h2 {\n    margin: 0;\n    font-size: 16px;\n  }\n\n  ul {\n    margin: 0;\n    /* padding: 0 0 0 1.5em; */\n  }\n\n  li {\n    /* margin: 1.5em 0; */\n    padding: 0;\n  }\n\n  b {\n    /* used for event dates/times */\n    margin-right: 3px;\n    color: black;\n  }\n\n  i {\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n  }\n\n  .demo-app {\n    display: flex;\n    font-family: Arial, Helvetica Neue, Helvetica, sans-serif;\n    font-size: 14px;\n    max-height: 100vh; /* Set sidebar height to match viewport height */\n  }\n\n  .demo-app-sidebar {\n    padding: 10px;\n    width: 300px;\n    line-height: 1.5;\n    /* background: #eaf9ff; */\n    background-color: #e6e7e9;\n    border-right: 1px solid #d3e2e8;\n    /* overflow-y: auto; */\n    max-height: 100vh; /* Set sidebar height to match viewport height */\n  }\n\n  .demo-app-main {\n    flex-grow: 1;\n    padding: 3em;\n  }\n\n    /* Adjust the height of FullCalendar to fit within the main content area */\n  .demo-app-calendar {\n      height: calc(100vh - 6em); /* Adjust as needed, considering header/footer heights */\n  }\n\n  .fc {\n    /* the calendar root */\n    /* max-width: 1100px; */\n    margin: 0 auto;\n    max-height: 100vh; /* Set sidebar height to match viewport height */\n  }\n  .fc-col-header-cell-cushion{\n    text-decoration: none;\n    color: black;\n  }\n  .fc-scrollgrid .fc-daygrid-day-number{\n    text-decoration: none;\n    color: black;\n\n  }\n  .fc-event{\n    color: white;\n  }\n\n  .fc-list-event-title{\n    color: black;\n  }\n\n  .fc-list-event-time{\n    color: black;\n  }\n\n  </style>\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}